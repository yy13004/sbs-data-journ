import streamlit as st

# 근로소득세 계산 함수
def calculator_tax(tax_base):
    if tax_base <= 14_000_000:
        return tax_base * 0.06
    elif tax_base <= 50_000_000:
        return 840_000 + (tax_base - 14_000_000) * 0.15
    elif tax_base <= 88_000_000:
        return 6_240_000 + (tax_base - 50_000_000) * 0.24
    elif tax_base <= 150_000_000:
        return 15_360_000 + (tax_base - 88_000_000) * 0.35
    elif tax_base <= 300_000_000:
        return 37_060_000 + (tax_base - 150_000_000) * 0.38
    elif tax_base <= 500_000_000:
        return 94_060_000 + (tax_base - 300_000_000) * 0.40
    elif tax_base <= 1_000_000_000:
        return 174_060_000 + (tax_base - 500_000_000) * 0.42
    else:
        return 384_060_000 + (tax_base - 1_000_000_000) * 0.45


# ==========================================
# 페이지 구성
# ==========================================
st.title("국가채무 50% 시대, 가계부 점검의 때가 왔다")
st.divider()

# ==========================================
# 입력
# ==========================================
annual_income = st.number_input(
    "연간 소득을 입력하세요(원)",
    min_value=0,
    value=50_000_000,
    step=1_000_000,
    format="%d"
)

st.caption(
    """
*현행 법정 근로소득세율 적용하고, 공제 항목을 고려하지 않았습니다. 실제 재정은 다양한 세목으로 구성되며, 이는 단순히 규모 비교를 위한 계산입니다.
"""
)

# ==========================================
# 계산
# ==========================================
interest_expense = 29.4 * 10**12  # 29.4조원

if annual_income > 0:
    annual_tax = calculator_tax(annual_income)

    if annual_tax > 0:
        people_needed = interest_expense / annual_tax

        st.divider()

        st.metric(
            "당신과 같은 세액을 내는 근로자 수",
            f"**{people_needed:,.0f}명**"
        )

        st.markdown(
            f"""
당신의 연간 근로소득세는 **약 {annual_tax:,.0f}원**입니다.

2025년 국가채무 이자지출을 연간 근로소득세 규모로 단순 환산할 경우,  
당신과 동일한 세액을 납부하는 근로자 **약 {people_needed:,.0f}명**의  
1년치 세액에 해당합니다.
"""
        )
    else:
        st.info("세액이 0원으로 계산됩니다. 다른 금액을 입력해 주세요.")
else:
    st.info("금액을 입력하면 계산 결과가 표시됩니다.")

# ======================================================
# 기사 본문 시작
# ======================================================

st.divider()
# ------------------------------------------------------
# 1. 내 세금의 영수증
# ------------------------------------------------------

st.markdown("#### **국가채무 이자지출, 근로소득세 규모로 환산하면**")

st.markdown("""
2025년 본예산 기준 국가채무 이자지출은 29.4조원이다. 이자 지출이란 원금 상환이 아닌, 한 해 동안 빚에 대해 지급하는 ‘이자’ 비용을 말한다.

이를 현행 법정 근로소득세율을 적용해 단순 환산해보면, 연봉 5,000만원 근로자 기준 약 471만1,538명의 1년치 근로소득세 규모에 해당한다.

국가채무 문제는 세금의 문제와 직결되기 때문에, 많은 이들의 흠.. 뭐라고 하지.
""")

# ------------------------------------------------------
# 2. 댓글 창에 쏟아진 분노
# ------------------------------------------------------
st.write("")
st.write("")
st.markdown("#### **유튜브 댓글 창에 쏟아진 분노, 무엇을 말하나**")

st.markdown("""
2026년 1월 19일 기준, ‘국가채무’, ‘국가부채’, ‘나라빚’ 키워드로 검색된 유튜브 영상 댓글 2만 1,820개를 분석한 결과, 국가채무 논의는 단순한 재정 문제를 넘어 정치적 책임 공방의 장으로 확장되고 있었다.
""")

## 1) 의미연결망 시각화 이미지 업로드
st.markdown(
    """
의미연결망을 시각화한 결과, 댓글은 세 개의 축으로 갈라졌다. '정치', '복지', 그리고 '조세' 키워드가 눈에 띄었다.
"""
)
st.write("")
st.markdown("**정치, ‘책임 공방’으로 전환**")
st.markdown(
    """
‘이재명’ 노드를 중심으로 ‘좌파’,‘민주당’ 키워드가 등장했다. ‘걱정’과 같은 정서적 표현과 결합하며 부정적 의미가 강화되는 모습을 확인할 수 있다. 국가채무 논의가 특정 인물 및 진영 평가로 전환되며 정치적 책임 공방의 질문으로 수렴~..
    """)

st.markdown("**복지 그리고 세금, ‘권리’보다 ‘재정 운영 능력’으로 인식**")
st.markdown(
    """
‘복지’ 노드는 ‘지출’, '예산', ‘혜택’, ‘축소’와 연결된다. 그리고 이는 ‘재정 부담’, ‘나라 살림’, ‘지출 관리’의 맥락에서 언급된다. 복지가 사회권 보장보다는 국가 재정 운영 능력의 문제로 인식되는 것을 알 수 있다.
또한 ‘복지’는 ‘세금’ 노드와 결합했다. ‘도둑’, ‘낭비’, ‘공무원’, ‘월급’ 등의 키워드가 등장하며 복지 담론이 불만과 불신의 영역으로 확장되었다. 정부 재정 정책에 대한 국민적 신뢰 수준이 낮음을 시사하기도 했다.

'미래 세대' 키워드가 외곽에 위치하기도 했다. 국가채무의 경우 미래세대의 세금과 직결되기 때문에 불만이 두드러지는 것으로 보인다. (이 문장 별로) '미래세대' 키워드는 '최악'의 단어와 자주 등장했다.
"""
)

# ------------------------------------------------------
# 3. 숫자로 본 국가채무
# ------------------------------------------------------
# 여기 재정수지/적자성/금융성 그래프 자리
st.write("")
st.write("")
st.markdown("#### **숫자로 본 국가채무, 얼마나 심각할까**")

st.markdown("""
연도별 관리재정수지 추이를 보면, 2019년을 기점으로 큰 폭의 적자가 시작됐다. 당해연도의 순수한 수입에서 순수한 지출을 차감한 수치를 통합재정수지라고 하는데, 통합재정수지에서 4개 사회보장성기금을 제외한 것이 바로 관리재정수지이다.

국가채무 역시 마찬가지이다. 코로나19를 거치며 시작된 본격적인 확장재정에, 국가부채는 폭발적으로 증가했다. 문제는 적자성채무의 증가다. 자산 매각이나 융자금 회수 등으로 자체 상환이 가능한 금융성채무와 다르게, 적자성채무는 조세 등 국민 부담으로 상환해야 한다. 적자성채무는 총 국가채무 그래프의 증감폭과 같이 2019년을 기점으로 급격하게 상승했다.
""")

# ------------------------------------------------------
# 4. 비교 대상에 따라 숫자는 달라진다
# ------------------------------------------------------
st.write("")
st.write("")
st.markdown("#### **비교 대상에 따라 숫자는 달라진다**")
# 비교 그래프 자리
st.markdown("""
여기서 의문이 들 수 있다. 우리나라보다 훨씬 큰 규모의 빚을 보유한 나라들이 여럿이다. 그렇다면 왜 유독 우리나라만 난리인걸까? 비교 대상을 누구로 잡느냐에 따라 숫자는 다르게 읽힌다. 같은 숫자도 어떤 집단과 나란히 두느냐에 따라 위기인지, 관리 가능한 수준인지 결정된다.
한국은 미국과 같은 기축통화국이 아니며, 일본 엔화와 같은 위력을 가지고 있지 않다. 화폐의 힘이 강한 국가들과 비교되어서는 안 되기 때문에, ‘비기축통화국’의 개념이 등장한다.
IMF가 선진국으로 분류한 11개 비기축통화국과 비교한 전년 대비 총부채 증감폭 그래프에서는, 증감폭이 큰 일부 국가들이 존재하지만 2025년을 기점으로 한국의 부채 증감폭이 가장 높아질 전망이다. 매년 2번 발표되는 IMF의 fiscal monitor의 2025년 10월호가 발간되고, 한국 언론은 뒤집어졌다. (이미 언론에서 많이 다뤘다는 의미니까 빼는 게 나으려나)

한편 확장재정을 찬성하는 이들은 한국의 비교대상을 선진국으로 삼는다. 비기축통화국이란 용어는 한국 언론의 임의적인 표현으로 국가채무에 대한 공포심리를 조장한다고 비판한다. 하지만 IMF의 fiscal monitor 2025년 10월호 자료에 따르면, 코로나 당시 대규모 재정을 투입했던 G7은 최근 부채 증가 속도를 줄이고 있는 반면, 한국은 계속해서 부채가 증가하는 추세다. 선진국과 비교했을 때 2021년 그 증감폭이 G7을 역전했다는 점에서 역시 문제가 된다.
""")

# ------------------------------------------------------
# 5. 복지인가, R&D인가
# ------------------------------------------------------
st.write()
st.write()
st.markdown("#### **복지인가, R&D인가… 결국 우선순위의 문제**")
# 🔽 분야별 지출 그래프 자리
st.markdown("""
중앙정부 분야별 지출 추이를 보면 보건·복지·고용 분야의 지출은 꾸준히 증가해왔다. 한국의 복지 지출 비중이 여전히 낮은 편이며, 기본 사회 안전망을 강화하는 것이 간과되어서는 안 된다. 문제는 복지 지출 비용 증가 속도가 R&D 증가 속도보다 빠르다는 점이다. 성장 기반이 약화될 경우  
장기적으로 재정 부담이 더 커질 수 있다는 우려다.
""")
# ------------------------------------------------------
# 6. 결론
# ------------------------------------------------------
st.markdown("""
확장 재정은 승수효과를 기대한다. 정부가 돈을 써 경기를 살리면, 이후 세수가 늘어 빚을 감당할 수 있다는 논리다. 반대로 재정 건전성을 중시하는 시각은 구축효과를 경고한다. 정부가 빚을 늘리면 시중금리가 오르고 민간 투자가 위축되기 때문에 장기 성장이 둔화될 수 있다는 주장이다.
국가채무 문제는 단순히 숫자 하나로 귀결되는 문제가 아니다. 어디에 쓰고, 무엇을 줄이며, 무엇을 지킬 것인가의 문제다. (마지막이 너무 빈약함 보완 필요)

""")
